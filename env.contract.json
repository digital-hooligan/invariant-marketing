{
  "surface": "S1",
  "required": {
    "APP_ID": {
      "type": "string",
      "tiers": ["local", "preview", "production"],
      "secret": false,
      "validation": "kebab-case"
    },
    "ENVIRONMENT": {
      "type": "enum",
      "tiers": ["local", "preview", "production"],
      "secret": false,
      "validation": "local|preview|production"
    },
    "APP_VERSION": {
      "type": "string",
      "tiers": ["preview", "production"],
      "secret": false,
      "validation": "semver"
    },
    "BUILD_TIMESTAMP": {
      "type": "string",
      "tiers": ["preview", "production"],
      "secret": false,
      "validation": "iso-8601"
    },
    "PUBLIC_SITE_URL": {
      "type": "url",
      "tiers": ["preview", "production"],
      "secret": false,
      "validation": "url"
    }
  },
  "optional": {
    "APP_VERSION": {
      "type": "string",
      "tiers": ["local"],
      "secret": false,
      "default": "0.0.0-local",
      "fallbackBehavior": "Local-only safe default"
    },
    "LOG_LEVEL": {
      "type": "enum",
      "tiers": ["local", "preview", "production"],
      "secret": false,
      "default": "debug",
      "validation": "debug|info|warn|error",
      "fallbackBehavior": "Local default only"
    },
    "NEXT_PUBLIC_ANALYTICS_ID": {
      "type": "string",
      "tiers": ["local", "preview", "production"],
      "secret": false,
      "default": "disabled",
      "fallbackBehavior": "If absent, analytics disabled"
    },
    "NEXT_PUBLIC_FEATURE_FLAGS": {
      "type": "json",
      "tiers": ["local", "preview", "production"],
      "secret": false,
      "default": "{}",
      "fallbackBehavior": "Defaults to {} (UI-only flags)"
    },
    "CI": {
      "type": "boolean",
      "tiers": ["preview", "production"],
      "secret": false,
      "default": "true",
      "fallbackBehavior": "CI strict mode supported"
    },
    "SECRETS_SCAN_MODE": {
      "type": "enum",
      "tiers": ["preview", "production"],
      "secret": false,
      "default": "block",
      "validation": "block|warn",
      "fallbackBehavior": "CI control"
    },
    "ENV_CONTRACT_STRICT": {
      "type": "boolean",
      "tiers": ["preview", "production"],
      "secret": false,
      "default": "true",
      "fallbackBehavior": "Strict by default"
    }
  },
  "forbidden": [
    "*_DATABASE_URL",
    "*_SERVICE_TOKEN",
    "*_INTERNAL_API_KEY",
    "*_AUDIT_*",
    "*_EVIDENCE_*",
    "SCIENTIA_*",
    "SOLUM_*",
    "RADIXOS_*",
    "PONDUS_*",
    "CUSTOS_*",
    "INTERNAL_BASE_URL",
    "DATABASE_URL",
    "SERVICE_AUTH_TOKEN",
    "OBSERVABILITY_DSN",
    "FEATURE_FLAGS"
  ]
}
